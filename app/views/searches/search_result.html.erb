<hr>
<div class="text-center"><h2>検索結果</h2></div>

<table class="table table-hover table-inverse">
  <!--検索対象モデルがUserの時 -->
  <% if @range == "user" %>
    <tbody id="search_data">

      <tr>
        <th>ユーザー名</th>
        <th>自己紹介</th>
      </tr>

      <% @users.each do |user| %>
      <tr data-href="<%= user_path(user) %>">
        <td>
          <%= link_to user_path(user) do%>
          <%= image_tag user.get_profile_image(100,100), class: "rounded-circle" %>
          <% end %>
          <%= user.name %>さん</td>
        <td><%= user.introduction %></td>
      </tr>
      <% end %>
    </tbody>
  <% else %>
    <!--検索対象モデルがUserではない時(= 検索対象モデルがpostの時) -->
    <tbody id="search_data">
    <tr>
      <th></th>
      <th>タイトル</th>
      <th>レシピ概要</th>
    </tr>
      <% @posts.each do |post| %>
        <tr>
          <td><%= image_tag post.get_image, style: "width:200px; height:200px;" %></td>
          <td><%= link_to post.title, "/posts/#{post.id}" %></td>
          <td><%= simple_format post.introduction %></td>
        </tr>
      <% end %>
    </tbody>
  <% end %>
</table>

<script>
  $("#search_data").on("click", (e) => {
    const target = $(e.target).parent()
    console.log(target.data("href"))
  })
</script>